<!DOCTYPE HTML>
<html class="no-js" lang="zh-CN">
<head>
    <!--[if lte IE 9]>
<meta http-equiv="refresh" content="0;url=http://yoursite.com/warn.html">
<![endif]-->
<meta charset="utf-8">
<meta http-equiv="X-DNS-Prefetch-Control" content="on">
<link rel="dns-prefetch" href="http://yoursite.com">
<link rel="dns-prefetch" href="//www.google-analytics.com">
<link rel="prefetch" href="http://yoursite.com">
<link rel="prefetch" href="//www.google-analytics.com">


<link rel="prerender" href="http://yoursite.com">

<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
<meta http-equiv="mobile-agent" content="format=html5; url=http://yoursite.com">
<meta name="author" content="John Doe">
<link rel="stylesheet" href="/css/JSimple.css">

<link rel="shortcut icon" href="/images/favicon.png">


<title>集合之set接口 - Hexo</title>

<meta name="keywords" content="">

<meta name="description " content="">

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                processEscapes: true
            }
        });
    </script>


    

    

</head>
<body>
<div id="nav">
    <nav class="nav-menu">
        <a class="site-name current" href="/" title="说">说</a>
        <a class="site-index current" href="/"><i class="fa fa-home"></i><span>Home</span></a>
        <a href="/archives" title="Archives"><i class="fa fa-archives"></i><span>Archives</span></a>
        <a href="/tags" title="Tags"><i class="fa fa-tags"></i><span>Tags</span></a>
        <!-- custom single page of menus -->
        
        
        <a href="/help" title="帮助">
            <i class="fa fa-question-circle"></i>
            <span>帮助</span>
        </a>
        
    </nav>
</div>

<div class="nav-user">
    <a class="btn-search" href="#"><i class="fa fa-search"></i></a>
    <a class="btn-read-mode" href="#"><i class="fa fa-sun-o"></i></a>
    <a class="btn-sns-qr" href="javascript:"><i class="fa fa-telegram"></i></a>
</div>

<div id="wrapper" class="clearfix">
    <div id="body">
        <div class="main" id="main">
            <div id="cover">
    <div class="cover-img"></div>
    <div class="cover-info">
        
        <h1 class="cover-siteName">说IT</h1>
        <h3 class="cover-siteTitle">用代码摇滚这个世界</h3>
        <p class="cover-siteDesc">一个关注技术与人文的IT博客</p>
        <div class="cover-sns">
            
    &nbsp;&nbsp;<div class="btn btn-telegram">
        <a href="http://t.me/kunyintang" target="_blank" title="telegram" ref="friend">
            <i class="fa fa-telegram"></i>
        </a>
    </div>

    &nbsp;&nbsp;<div class="btn btn-instagram">
        <a href="https://www.instagram.com/mtangsir/" target="_blank" title="instagram" ref="friend">
            <i class="fa fa-instagram"></i>
        </a>
    </div>

    &nbsp;&nbsp;<div class="btn btn-twitter">
        <a href="https://twitter.com/tangkunyin" target="_blank" title="twitter" ref="friend">
            <i class="fa fa-twitter"></i>
        </a>
    </div>

    &nbsp;&nbsp;<div class="btn btn-github">
        <a href="https://github.com/tangkunyin" target="_blank" title="github" ref="friend">
            <i class="fa fa-github"></i>
        </a>
    </div>


        </div>
    </div>
</div>

            <div class="page-title">
    <ul>
        <li><a href="/">Recent Posts</a></li>
        
        
        
        <li class="page-search">
    <form id="search" class="search-form">
        <input type="text"
               readonly="readonly"
               id="local-search-input-tip"
               placeholder="click to search..." />
        <button type="button" disabled="disabled" class="search-form-submit"><i class="fa fa-search"></i></button>
    </form>
</li>

    </ul>
</div>
<div class="main-inner">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
        <div class="post-header">
            <div class="post-author clearfix">
                <a class="avatar fleft" href="https://shuoit.net"
                   target="_blank">
                    <img width="48" src="/images/favicon.png" alt="avatar"/>
                </a>
                <p><span class="label">Author</span>
                    <a href="https://shuoit.net"
                       target="_blank">纠结伦</a>
                    <span title="Last edited at&nbsp;2019-11-03">2019-11-03</span>
                </p>
                <p>一个搬🧱的劳斯基😁️️</p>
            </div>
            <h2 class="post-title">集合之Set接口</h2>
            <div class="post-meta">
                emm... 2242 words in the article |
                you are the&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>th friend who reading now
            </div>
        </div>
        <div class="post-content markdown-body">
            <h2 id="Collection子接口之二：-Set接口"><a href="#Collection子接口之二：-Set接口" class="headerlink" title="Collection子接口之二： Set接口"></a>Collection子接口之二： Set接口</h2><h3 id="Set-接口概述"><a href="#Set-接口概述" class="headerlink" title="Set 接口概述"></a>Set 接口概述</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Set接口是Collection的子接口，set接口没有提供额外的方法  </span><br><span class="line">Set 集合不允许包含相同的元素，如果试把两个相同的元素加入同一个 Set 集合中，则添加操作失败。  </span><br><span class="line">Set 判断两个对象是否相同不是使用 == 运算符，而是根据equals() 方法</span><br></pre></td></tr></table></figure>

<h3 id="Set实现类之一：HashSet"><a href="#Set实现类之一：HashSet" class="headerlink" title="Set实现类之一：HashSet"></a>Set实现类之一：HashSet</h3><p>HashSet 是 Set 接口的典型实现，大多数时候使用 Set 集合时都使用这个实现类。<br>HashSet 按 Hash算法来存储集合中的元素，因此具有很好的存取、查找、删除 性能。 </p>
<h5 id="HashSet-具有以下特点："><a href="#HashSet-具有以下特点：" class="headerlink" title="HashSet 具有以下特点："></a>HashSet 具有以下特点：</h5><pre><code>不能保证元素的排列顺序   
HashSet 不是线程安全的  
集合元素可以是 null </code></pre><p>==HashSet 集合判断两个元素相等的标准==：两个对象通过hashCode() 方法比较相等，并且两个对象的equals()方法返回值也相等。 </p>
<h6 id="对于存放在Set容器中的对象，对应的类一定要重写equals-和hashCode-Objectobj-方法，以实现对象相等规则。即：“相等的对象必须具有相等的散列码”。"><a href="#对于存放在Set容器中的对象，对应的类一定要重写equals-和hashCode-Objectobj-方法，以实现对象相等规则。即：“相等的对象必须具有相等的散列码”。" class="headerlink" title="对于存放在Set容器中的对象，对应的类一定要重写equals()和hashCode(Objectobj)方法，以实现对象相等规则。即：“相等的对象必须具有相等的散列码”。"></a>对于存放在Set容器中的对象，对应的类一定要重写equals()和hashCode(Objectobj)方法，以实现对象相等规则。即：“相等的对象必须具有相等的散列码”。</h6><h4 id="Set实现类之一：HashSet-1"><a href="#Set实现类之一：HashSet-1" class="headerlink" title="Set实现类之一：HashSet"></a>Set实现类之一：HashSet</h4><h5 id="向HashSet中添加元素的过程："><a href="#向HashSet中添加元素的过程：" class="headerlink" title="向HashSet中添加元素的过程："></a>向HashSet中添加元素的过程：</h5><p>当向 HashSet 集合中存入一个元素时，HashSet 会调用该对象的 hashCode() 方法 来得到该对象的 hashCode 值，然后根据 hashCode 值，通过某种散列函数决定该对象 在 HashSet 底层数组中的存储位置。（这个散列函数会与底层数组的长度相计算得到在 数组中的下标，并且这种散列函数计算还尽可能保证能均匀存储元素，越是散列分布， 该散列函数设计的越好）  </p>
<p>如果两个元素的hashCode()值相等，会再继续调用equals方法，如果equals方法结果 为true，添加失败；如果为false，那么会保存该元素，但是该数组的位置已经有元素了， 那么会通过链表的方式继续链接。 </p>
<p>如果两个元素的 equals() 方法返回 true，但它们的 hashCode() 返回值不相 等，hashSet 将会把它们存储在不同的位置，但依然可以添加成功。<br><img src="https://pic.superbed.cn/item/5dbd9af8bd461d945af4ef64.png" alt><br><img src="https://pic.superbed.cn/item/5dbd9b10bd461d945af4f10a.png" alt><br><img src="https://pic.superbed.cn/item/5dbd9b8abd461d945af4f8d8.png" alt></p>
<p><img src="https://pic.superbed.cn/item/5dbe3c5f8e0e2e3ee9d3e562.png" alt><br><img src="https://pic.superbed.cn/item/5dbe3c6e8e0e2e3ee9d3e655.png" alt></p>
<h2 id="Set实现类之三：TreeSet"><a href="#Set实现类之三：TreeSet" class="headerlink" title="Set实现类之三：TreeSet"></a>Set实现类之三：TreeSet</h2><p>TreeSet 是 SortedSet 接口的实现类，TreeSet 可以确保集合元素处于排序状态 。<br>TreeSet底层使用红黑树结构存储数据。<br>新增的方法如下： (了解)<br><img src="https://pic.superbed.cn/item/5dbe3ceb8e0e2e3ee9d3eca0.png" alt><br>TreeSet 两种排序方法：自然排序和定制排序。默认情况下，TreeSet采用自然排序。  </p>
<p><img src="https://pic.superbed.cn/item/5dbe3d168e0e2e3ee9d3f013.png" alt></p>
<h6 id="再具体就不说了，可以参看http-www-cnblogs-com-yangecnu-p-Introduce-Red-Black-Tree-html，对红黑树的讲解写得不错。"><a href="#再具体就不说了，可以参看http-www-cnblogs-com-yangecnu-p-Introduce-Red-Black-Tree-html，对红黑树的讲解写得不错。" class="headerlink" title="再具体就不说了，可以参看http://www.cnblogs.com/yangecnu/p/Introduce-Red-Black-Tree.html，对红黑树的讲解写得不错。"></a>再具体就不说了，可以参看<a href="http://www.cnblogs.com/yangecnu/p/Introduce-Red-Black-Tree.html，对红黑树的讲解写得不错。" target="_blank" rel="noopener">http://www.cnblogs.com/yangecnu/p/Introduce-Red-Black-Tree.html，对红黑树的讲解写得不错。</a></h6><h3 id="排-序—自然排序"><a href="#排-序—自然排序" class="headerlink" title="排 序—自然排序"></a>排 序—自然排序</h3><h6 id="自然排序：TreeSet-会调用集合元素的-compareTo-Object-obj-方法来比较元素之间的大小关系，然后将集合元素按升序-默认情况-排列"><a href="#自然排序：TreeSet-会调用集合元素的-compareTo-Object-obj-方法来比较元素之间的大小关系，然后将集合元素按升序-默认情况-排列" class="headerlink" title="自然排序：TreeSet 会调用集合元素的 compareTo(Object obj) 方法来比较元素之间的大小关系，然后将集合元素按升序(默认情况)排列"></a>自然排序：TreeSet 会调用集合元素的 compareTo(Object obj) 方法来比较元素之间的大小关系，然后将集合元素按升序(默认情况)排列</h6><h6 id="如果试图把一个对象添加到-TreeSet-时，则该对象的类必须实现-Comparable-接口。"><a href="#如果试图把一个对象添加到-TreeSet-时，则该对象的类必须实现-Comparable-接口。" class="headerlink" title="如果试图把一个对象添加到 TreeSet 时，则该对象的类必须实现 Comparable 接口。"></a>如果试图把一个对象添加到 TreeSet 时，则该对象的类必须实现 Comparable 接口。</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">实现 Comparable 的类必须实现 compareTo(Object obj) 方法，两个对象即通过</span><br><span class="line">compareTo(Object obj) 方法的返回值来比较大小。</span><br><span class="line"></span><br><span class="line">向 TreeSet 中添加元素时，只有第一个元素无须比较compareTo()方法，后面添</span><br><span class="line">加的所有元素都会调用compareTo()方法进行比较。  </span><br><span class="line">因为只有相同类的两个实例才会比较大小，所以向 TreeSet 中添加的应该是同</span><br><span class="line">一个类的对象。  </span><br><span class="line">对于 TreeSet 集合而言，它判断两个对象是否相等的唯一标准是：两个对象通</span><br><span class="line">过 compareTo(Object obj) 方法比较返回值。  </span><br><span class="line">当需要把一个对象放入 TreeSet 中，重写该对象对应的 equals() 方法时，应保</span><br><span class="line">证该方法与 compareTo(Object obj) 方法有一致的结果：如果两个对象通过</span><br><span class="line">equals() 方法比较返回 <span class="keyword">true</span>，则通过 compareTo(Object obj) 方法比较应返回 <span class="number">0</span>。否则，让人难以理解。</span><br></pre></td></tr></table></figure>
<p><img src="https://pic.superbed.cn/item/5dbe3ffe8e0e2e3ee9d41841.png" alt><br><img src="https://pic.superbed.cn/item/5dbe400e8e0e2e3ee9d419c9.png" alt></p>
<h3 id="排-序—定制排序"><a href="#排-序—定制排序" class="headerlink" title="排 序—定制排序"></a>排 序—定制排序</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">TreeSet的自然排序要求元素所属的类实现Comparable接口，如果元素所属的类没</span><br><span class="line">有实现Comparable接口，或不希望按照升序(默认情况)的方式排列元素或希望按照</span><br><span class="line">其它属性大小进行排序，则考虑使用定制排序。定制排序，通过Comparator接口来</span><br><span class="line">实现。需要重写compare(T o1,T o2)方法。  </span><br><span class="line">利用<span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1,To2)</span>方法，比较o1和o2的大小：如果方法返回正整数，则表</span></span><br><span class="line"><span class="function">示o1大于o2；如果返回0，表示相等；返回负整数，表示o1小于o2。  </span></span><br><span class="line"><span class="function">要实现定制排序，需要将实现Comparator接口的实例作为形参传递给TreeSet的构</span></span><br><span class="line"><span class="function">造器。  </span></span><br><span class="line"><span class="function">此时，仍然只能向TreeSet中添加类型相同的对象。否则发生ClassCastException异</span></span><br><span class="line"><span class="function">常。  </span></span><br><span class="line"><span class="function">使用定制排序判断两个元素相等的标准是：通过Comparator比较两个元素返回了0</span></span><br></pre></td></tr></table></figure>
<p><img src="https://pic.superbed.cn/item/5dbe40508e0e2e3ee9d41cfd.png" alt><br><img src="https://pic.superbed.cn/item/5dbe40a18e0e2e3ee9d42196.png" alt><br><img src="https://pic.superbed.cn/item/5dbe40ab8e0e2e3ee9d423f7.png" alt><br>==核心讲解：remove()方法通过元素的哈希值来判断位置==<br>            ==add()方法添加元素，手下比较哈希值，然后是equals()方法==</p>

            
                

            
        </div>
        <div class="post-tool">
            <a class="btn-thumbs-up" href="javascript:void(0);" data-cid="52" title="95">
                <i class="fa fa-thumbs-up" aria-hidden="true"></i> Donate
            </a>
        </div>
        
        <div class="post-tags">Tags：
            
        </div>
        
    </article>
    
        <p style="text-align: center">This article just represents my own viewpoint. If there is something wrong, please correct me.</p>
    
    
    

</div>
<script src="/js/busuanzi.pure.mini.js"></script>


        </div><!-- end #main-->
    </div><!-- end #body -->
    <footer class="footer">
    <div class="footer-inner" style="text-align: center">
        <p>
            <a href="/about"  title="About">About</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <!-- 自定义链接 -->
            <a href="/help" title="Help" >Help</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="/links" title="Links">Links</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="/sitemap.xml" title="SiteMap">SiteMap</a>
        </p>
        <p>
            Has been established&nbsp<a href="/timeline" id="siteBuildingTime"></a>&nbspDays，<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="licence">Based on Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a><br/>
            ©2017-<span id="cpYear"></span> Based on&nbsp<a href="http://hexo.io" target="_blank" rel="nofollow">Hexo</a>
            ，Theme by&nbsp&nbsp<a href="https://github.com/tangkunyin/hexo-theme-jsimple" target="_blank" rel="bookmark">JSimple</a>
            ，Author&nbsp<a href="https://shuoit.net" target="_blank" rel="friend">纠结伦</a>
            ，Hosted by <a href="https://pages.github.com/" target="_blank" rel="nofollow">GitHub Pages</a>
        </p>
    </div>
</footer>
<script src="/js/SimpleCore.js"></script>

</div>
<!-- search pop -->
<div class="popup search-popup local-search-popup">
    <div class="local-search-header clearfix">
        <span class="search-icon">
            <i class="fa fa-search"></i>
        </span>
        <span class="popup-btn-close">
            <i class="fa fa-times-circle"></i>
        </span>
        <div class="local-search-input-wrapper">
            <input id="local-search-input"
                   spellcheck="false"
                   type="text"
                   autocomplete="off"
                   placeholder="Input query keywords here..."/>
        </div>
    </div>
    <div id="local-search-result"></div>
</div>
<div class="fixed-btn">
    <a class="btn-gotop" href="javascript:"> <i class="fa fa-angle-up"></i></a>
</div>
<script>
    $(function () {
        var jsi_config = {
            buildingTime: '01/20/2018',
            current: $('.post-tags').length > 0 ? 'post' : 'archive',
            snsQRCode: '/images/sns-qrcode.png',
            donateImg: '/images/donate-qr.png',
            localSearch: { dbPath: '' },
            readMode: 'day'
        };
        
        SimpleCore.init(jsi_config);
        
    });
</script>
</body>
</html>
